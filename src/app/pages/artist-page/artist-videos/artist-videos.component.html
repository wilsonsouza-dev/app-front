<p-carousel
  [value]="videos"
  [numVisible]="3"
  [numScroll]="1"
  [responsiveOptions]="responsiveOptions"
  styleClass="w-4/5 mx-auto"
>
  <ng-template pTemplate="item" let-video>
    <div class="p-3 cursor-pointer" (click)="openVideo(video)">
      <p-card>
        <ng-template pTemplate="header">
          <img
            [src]="video.snippet.thumbnails.high.url"
            [alt]="video.snippet.title"
            alt="video"
            class="rounded-xl w-full h-64 object-cover"
          />
        </ng-template>
        <div
          class="text-base font-medium mt-2"
          [innerHTML]="video.snippet.title"
        ></div>
        <span class="text-sm text-blue-500">Clique para assistir</span>
      </p-card>
    </div>
  </ng-template>
</p-carousel>

<p-dialog
  [(visible)]="displayModal"
  [modal]="true"
  [style]="{ width: '60vw' }"
  [dismissableMask]="true"
>
  <ng-template pTemplate="header">
    <span [innerHTML]="selectedVideo?.snippet?.title"></span>
  </ng-template>
  <div *ngIf="safeVideoUrl" class="aspect-video w-full">
    <iframe
      width="100%"
      height="100%"
      [src]="safeVideoUrl"
      frameborder="0"
      allowfullscreen
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
      class="rounded-md"
    ></iframe>
  </div>
</p-dialog>
